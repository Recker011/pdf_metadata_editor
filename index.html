<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>PDF Metadata Manager</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>PDF Metadata Manager</h1>

      <!-- Drag & Drop Zone -->
      <div id="dropZone" class="drop-zone">
        <p>Drag &amp; drop PDF here</p>
        <p>or click to select</p>
        <input type="file" id="fileInput" accept="application/pdf" />
      </div>

      <!-- PDF Preview -->
      <div id="previewContainer" class="preview-container" hidden>
        <h2>PDF Preview</h2>
        <embed id="pdfPreview" type="application/pdf" />
      </div>

      <!-- Metadata display & edit -->
      <div id="metadataContainer" hidden>
        <h2>Current Metadata</h2>
        <table id="metadataDisplay">
          <thead>
            <tr>
              <th>Field</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <h2>Edit Metadata</h2>
        <form id="metadataForm">
          <!-- For each label, we wrap the label text + tooltip in .label-header -->
          <label class="tooltip-container">
            <div class="label-header">
              Output Filename:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >Name of the downloaded file. Defaults to original
                  filename.</span
                >
              </span>
            </div>
            <input type="text" id="filenameInput" placeholder="filename.pdf" />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Title:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The document’s title displayed in PDF readers.</span
                >
              </span>
            </div>
            <input type="text" id="titleInput" placeholder="Title" />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Author:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The author’s name associated with the document.</span
                >
              </span>
            </div>
            <input type="text" id="authorInput" placeholder="Author" />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Subject:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >A short description of the document’s topic.</span
                >
              </span>
            </div>
            <input type="text" id="subjectInput" placeholder="Subject" />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Keywords (comma-sep):
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >Comma-separated keywords to help index and search the
                  document.</span
                >
              </span>
            </div>
            <input
              type="text"
              id="keywordsInput"
              placeholder="e.g. invoice, report"
            />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Creator:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The software or app that originally created the PDF.</span
                >
              </span>
            </div>
            <input
              type="text"
              id="creatorInput"
              placeholder="Creator application"
            />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Producer:
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The library or tool that produced the PDF file.</span
                >
              </span>
            </div>
            <input
              type="text"
              id="producerInput"
              placeholder="Producer library"
            />
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Creation Date (ISO):
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The date/time the document was originally created (ISO
                  8601).</span
                >
              </span>
            </div>
            <input
              type="text"
              id="creationDateInput"
              placeholder="YYYY-MM-DDTHH:MM:SSZ"
            />
            <!-- <span class="error-message" id="creationError"
              >Invalid ISO date</span
            > -->
          </label>

          <label class="tooltip-container">
            <div class="label-header">
              Modification Date (ISO):
              <span class="tooltip-icon" tabindex="0"
                >?
                <span class="tooltip-text"
                  >The date/time the document was last modified (ISO
                  8601).</span
                >
              </span>
            </div>
            <input
              type="text"
              id="modDateInput"
              placeholder="YYYY-MM-DDTHH:MM:SSZ"
            />
            <!-- <span class="error-message" id="modError">Invalid ISO date</span> -->
          </label>

          <button type="button" id="saveButton">Save &amp; Download</button>
        </form>
      </div>

      <a id="downloadLink" hidden>Download Updated PDF</a>
    </div>

    <script src="script.js"></script>
  </body>
</html>
